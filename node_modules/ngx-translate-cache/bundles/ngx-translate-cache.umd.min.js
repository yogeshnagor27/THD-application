!function(e,t){"object"==typeof exports&&"undefined"!=typeof module?t(exports,require("@angular/core"),require("@angular/common")):"function"==typeof define&&define.amd?define("ngx-translate-cache",["exports","@angular/core","@angular/common"],t):t((e=e||self)["ngx-translate-cache"]={},e.ng.core,e.ng.common)}(this,(function(e,t,n){"use strict";
/*! *****************************************************************************
    Copyright (c) Microsoft Corporation. All rights reserved.
    Licensed under the Apache License, Version 2.0 (the "License"); you may not use
    this file except in compliance with the License. You may obtain a copy of the
    License at http://www.apache.org/licenses/LICENSE-2.0

    THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
    KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
    WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
    MERCHANTABLITY OR NON-INFRINGEMENT.

    See the Apache Version 2.0 License for specific language governing permissions
    and limitations under the License.
    ***************************************************************************** */var a;function o(e,t,n,a){var o,c=arguments.length,i=c<3?t:null===a?a=Object.getOwnPropertyDescriptor(t,n):a;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,n,a);else for(var r=e.length-1;r>=0;r--)(o=e[r])&&(i=(c<3?o(i):c>3?o(t,n,i):o(t,n))||i);return c>3&&i&&Object.defineProperty(t,n,i),i}function c(e,t){return function(n,a){t(n,a,e)}}(a=e.CacheMechanism||(e.CacheMechanism={})).LocalStorage="LocalStorage",a.Cookie="Cookie";var i=new t.InjectionToken("CACHE_NAME"),r=new t.InjectionToken("CACHE_MECHANISM"),s=new t.InjectionToken("COOKIE_EXPIRY"),h=e.CacheMechanism.LocalStorage,u=function(){function e(e,t,n){void 0===e&&(e="lang"),void 0===t&&(t=h),void 0===n&&(n=720),this.cacheName=e,this.cacheMechanism=t,this.cookieExpiry=n}return e.ctorParameters=function(){return[{type:String,decorators:[{type:t.Inject,args:[i]}]},{type:String,decorators:[{type:t.Inject,args:[r]}]},{type:Number,decorators:[{type:t.Inject,args:[s]}]}]},e=o([t.Injectable(),c(0,t.Inject(i)),c(1,t.Inject(r)),c(2,t.Inject(s))],e)}(),l=function(){function t(e,t){this.translateService=e,this.translateCacheSettings=t}return t.prototype.init=function(){var t=this;this.translateService.onLangChange.subscribe((function(n){return t.translateCacheSettings.cacheMechanism===e.CacheMechanism.LocalStorage?t.cacheWithLocalStorage(n.lang):t.translateCacheSettings.cacheMechanism===e.CacheMechanism.Cookie?t.cacheWithCookies(n.lang):void 0}));var n=this.getCachedLanguage()||this.translateService.getBrowserLang();n&&this.translateService.use(n)},t.prototype.getCachedLanguage=function(){return this.translateCacheSettings.cacheMechanism===e.CacheMechanism.LocalStorage?this.cacheWithLocalStorage():this.translateCacheSettings.cacheMechanism===e.CacheMechanism.Cookie?this.cacheWithCookies():void 0},t.prototype.cacheWithLocalStorage=function(e){if("undefined"!=typeof window&&void 0!==window.localStorage)try{return e?void window.localStorage.setItem(this.translateCacheSettings.cacheName,e):window.localStorage.getItem(this.translateCacheSettings.cacheName)}catch(e){return}},t.prototype.cacheWithCookies=function(e){if("undefined"!=typeof document&&void 0!==document.cookie)try{var t=encodeURIComponent(this.translateCacheSettings.cacheName);if(e){var n=new Date;return n.setTime(n.getTime()+36e5*this.translateCacheSettings.cookieExpiry),void(document.cookie=t+"="+encodeURIComponent(e)+";expires="+n.toUTCString())}var a=new RegExp("(?:^"+t+"|;\\s*"+t+")=(.*?)(?:;|$)","g").exec(document.cookie);return decodeURIComponent(a[1])}catch(e){return}},t}(),g=function(){function e(){}var a;return a=e,e.forRoot=function(e){return{ngModule:a,providers:[{provide:i,useValue:e.cacheName},{provide:r,useValue:e.cacheMechanism},{provide:s,useValue:e.cookieExpiry},u,e.cacheService]}},e=a=o([t.NgModule({imports:[n.CommonModule],declarations:[],exports:[]})],e)}();e.CACHE_MECHANISM=r,e.CACHE_NAME=i,e.COOKIE_EXPIRY=s,e.TranslateCacheModule=g,e.TranslateCacheService=l,e.TranslateCacheSettings=u,Object.defineProperty(e,"__esModule",{value:!0})}));
//# sourceMappingURL=ngx-translate-cache.umd.min.js.map